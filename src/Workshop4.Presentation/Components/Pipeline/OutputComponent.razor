@using System.Diagnostics.CodeAnalysis
@using Phazor.Components.Models
@using Workshop4.Application.Pipelines.Models
@using Workshop4.Presentation.Services
@using HorizontalAlignment = Phazor.Components.Models.HorizontalAlignment
@namespace Workshop4.Presentation.Components.Pipeline

<MudCard Class="h-100" Style="height: 100%; overflow: hidden; flex-basis: 20%" Elevation="3">
    <MudCardHeader>
        <MudText Typo="Typo.h6">
            Output
        </MudText>
    </MudCardHeader>
    <MudCardContent Style="overflow: hidden">
        <PhazorVStack
            Horizontal="HorizontalAlignment.Stretch"
            Vertical="VerticalDistribution.Top"
            Gap="10px">

            <MudTextField
                @bind-Value="@AppState.Instance.OutputText"
                FullWidth="true"
                ReadOnly="true"
                Lines="14"
                Label="Result"
                Variant="Variant.Outlined"
                Style="flex: 0 1 auto; min-height:0;"
                Class="mud-input-shrink"/>

            <MudDivider Style="flex-grow: 0"/>

            <ExecutionFrameStackComponent ExecutionFrames="ExecutionFrames"/>

        </PhazorVStack>
    </MudCardContent>
</MudCard>

@code {

    [NotNull]
    [Parameter]
    [EditorRequired]
    public IReadOnlyCollection<ExecutionFrame>? ExecutionFrames { get; set; }

}